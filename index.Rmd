---
title: "Virome - ERR2 group"
author: "AL,AM, PSR, DP"
date: "3/29/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

#Importing libraries for data manipulation:
```{r}
library(tidyverse)
library(lubridate)
library(here)
library(readr)
library(dplyr)
```


#Importing dataset from .csv fail
```{r}
dataset <- dataset <- read_csv("data/phage_counts.csv")
dataset
```

```{r}
filter(dataset, timepoint == "0")
```

```{r}
graph_1 <- dataset %>% 
    group_by(., tax_id) %>% 
    arrange(tax_id) %>% 
    count(tax_id)
graph_1
```

```{r}
graph_1 %>% 
    ggplot(aes(x = tax_id, y = n)) +
    geom_point(aes(color = tax_id))
```


```{r}
graph_1 %>% 
    ggplot(aes(x = tax_id, y = n)) +
    geom_point(aes(color = tax_id)) +
    scale_y_log10()
```
```{r}
sub <- dataset %>% select(subject) %>% count(subject)
sub
ravi <- dataset %>% select(subject, arm, timepoint) %>%  count(arm, subject)
ravi
```

```{r}
subOP <- dataset %>% 
    filter(timepoint == "0") %>% 
    filter( arm == "P") %>% 
    arrange(tax_id)
count(subOP, tax_id)

sub2P <- dataset %>% 
    filter(timepoint == "2") %>% 
    filter( arm == "P") %>% 
    arrange(tax_id)
count(sub2P, tax_id)

sub4P <- dataset %>% 
    filter(timepoint == "2") %>% 
    filter( arm == "P") %>% 
    arrange(tax_id)
count(sub4P, tax_id)
```

```{r}
sub04P <- full_join(subOP,sub2P, by = "tax_id")
```

